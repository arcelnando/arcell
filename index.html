<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Album Digital Khirza - Premium Glow</title>
<link rel="icon" type="image/png" href="https://i.ibb.co/L5rK39B/heart-icon.png"> <style>
html, body {
  margin:0; padding:0;
  font-family:'Poppins',sans-serif;
  height:100%; width:100%;
  overflow:hidden;
  background:linear-gradient(135deg,#ffd6e8,#ffb3d1,#ff99c7);
  display:flex; justify-content:center; align-items:center;
}

/* --- PRELOADER --- */
#preloader {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(135deg,#ff99c7, #ffb3d1);
    z-index: 9999;
    display: flex; justify-content: center; align-items: center;
    color: white; font-size: 2.5em; font-weight: bold;
    letter-spacing: 2px;
    opacity: 1; visibility: visible;
    transition: opacity 0.5s, visibility 0.5s;
    text-shadow: 0 0 10px rgba(255,255,255,0.8);
}
#preloader.hidden {
    opacity: 0; visibility: hidden;
}


/* Particle Background */
#particleContainer{
  position:fixed; top:0; left:0;
  width:100%; height:100%;
  pointer-events:none;
  overflow:hidden; z-index:0;
}
.particle{
  position:absolute; width:8px; height:8px;
  background:rgba(255,182,193,0.35);
  transform:rotate(45deg); border-radius:50%;
  animation-name:float; animation-timing-function:linear;
  animation-iteration-count:infinite;
}
.particle::before,.particle::after{
  content:''; position:absolute; width:8px; height:8px;
  background:rgba(255,182,193,0.35); border-radius:50%;
}
.particle::before{ top:-4px; left:0; }
.particle::after{ left:-4px; top:0; }
@keyframes float{
  0%{transform:translate(0,0) rotate(45deg);opacity:0.2;}
  50%{transform:translate(var(--x), var(--y)) rotate(45deg);opacity:0.7;}
  100%{transform:translate(0,0) rotate(45deg);opacity:0.2;}
}

/* Navbar */
.navbar{
  position:fixed; top:0; left:0;
  width:100%;
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(10px);
  display:flex; justify-content:center; align-items:center;
  padding:12px 0; z-index:1000;
  box-shadow:0 2px 15px rgba(0,0,0,0.1);
  display:none;
}
.navbar ul{
  list-style:none; display:flex; gap:35px; margin:0; padding:0;
}
.navbar button{
  background:none; border:none; color:white; font-size:1em;
  cursor:pointer; letter-spacing:1px; position:relative; transition:color 0.3s;
}
.navbar button::after{
  content:''; position:absolute; left:0; bottom:0; width:0%; height:2px;
  background:#ffc0de; transition:width 0.3s;
}
.navbar button:hover{ color:#ffe3f1; }
.navbar button:hover::after{ width:100%; }
.menu-toggle{ display:none; flex-direction:column; cursor:pointer; position:absolute; right:20px; top:14px; }
.menu-toggle span{ width:25px; height:3px; background:white; margin:4px 0; border-radius:2px; }
@media(max-width:700px){
  .navbar ul{ flex-direction:column; background:rgba(255,255,255,0.15);
    position:fixed; top:55px; right:-100%; width:60%; height:100vh;
    text-align:center; transition:right 0.4s ease; padding-top:60px; }
  .navbar ul.active{ right:0; }
  .menu-toggle{ display:flex; }
}

/* Page Transisi yang Ditingkatkan */
.page{
  width:100%; height:100%;
  display:none; justify-content:center; align-items:center; flex-direction:column;
  opacity:0; 
  position:absolute; top:0; left:0;
  transform: translateX(100%); /* Siap untuk slide dari kanan */
  transition: opacity 0.8s ease-in-out, transform 0.8s ease-in-out;
}
.active-page{ 
    display:flex; 
    opacity:1; 
    transform: translateX(0); /* Slide ke posisi tengah */
    z-index: 100;
}
#loginPage.active-page, #homePage.active-page {
    transform: translateX(0);
}


/* Album */
.album-wrapper{ position:relative; text-align:center; width:90%; max-width:700px; z-index:2; opacity:0; transition:opacity 1.2s ease; }
.album-wrapper.show{ opacity:1; }
.folder-album-wrapper{ opacity:1; } /* Hilangkan efek fadeIn khusus album utama */
.romantic-text{ font-size:2em; margin-bottom:20px; text-shadow:0 0 20px rgba(255,255,255,0.6); color:#fff; }
.album-container{
  position:relative; width:100%; height:650px;
  border-radius:25px; overflow:hidden;
  border:2px solid rgba(255,255,255,0.3);
  background:rgba(255,255,255,0.07);
  backdrop-filter:blur(12px);
  box-shadow:0 15px 35px rgba(0,0,0,0.3);
  touch-action:pan-x;
}
.photo{
  width:100%; height:100%; object-fit:cover; position:absolute; top:0; left:0;
  opacity:0; transition:opacity 1.3s ease-in-out, transform 1.3s ease-in-out, box-shadow 1.3s ease-in-out;
  border-radius:20px; box-shadow:0 0 0px rgba(255,192,222,0);
}
.photo.active{ 
    opacity:1; z-index:2; 
    transform:scale(1.03); 
    box-shadow:0 10px 40px rgba(255,192,222,0.8); /* Bayangan Ditingkatkan */
}
.nav-btn{
  position:absolute; top:50%; transform:translateY(-50%);
  font-size:2em; color:white; background:rgba(255,255,255,0.2);
  border:none; border-radius:50%; width:50px; height:50px; cursor:pointer; z-index:3; transition:background 0.3s;
}
.nav-btn:hover{ background:rgba(255,255,255,0.4); }
.prev-btn{ left:10px; } .next-btn{ right:10px; }

/* Menu bawah foto */
.photo-menu{
  position:relative;
  margin-top:20px;
  display:flex; gap:20px; justify-content:center; background:rgba(255,255,255,0.15);
  padding:10px 20px; border-radius:25px; backdrop-filter:blur(10px); z-index:4;
}
.photo-menu button{
  background:none; border:none; color:white; font-size:1em; cursor:pointer; transition:0.3s;
  position:relative;
}
.photo-menu button:hover{ color:#ffb3d1; }
.photo-menu button .heart-icon { 
    margin-left: 10px; 
    font-size: 1.2em; 
    transition: transform 0.2s;
}
.photo-menu button .heart-icon.bounce {
    animation: bounce 0.4s ease;
}
@keyframes bounce {
    0% { transform: scale(1); }
    50% { transform: scale(1.3); }
    100% { transform: scale(1); }
}

/* Info Box */
.info-box{ background: rgba(255,255,255,0.08); backdrop-filter: blur(10px);
  padding:30px; border-radius:20px; color:#fff; text-align:center;
  box-shadow:0 15px 40px rgba(0,0,0,0.3);
}
.info-box a{ color:#ffc0de; text-decoration:none; font-weight:bold; }
.info-box a:hover{ text-decoration:underline; }

/* Login */
#loginPage{
  width:100%; height:100%; display:flex; justify-content:center; align-items:center;
  flex-direction:column; z-index:1000;
}
#loginTitle{
  color:#fff; font-size:2em; margin-bottom:20px; text-shadow:0 0 20px rgba(255,255,255,0.7); text-align:center;
}
#loginBox{
  background:rgba(255,255,255,0.1); backdrop-filter:blur(12px);
  padding:40px 30px; border-radius:25px; box-shadow:0 15px 40px rgba(0,0,0,0.3);
  display:flex; flex-direction:column; gap:20px; width:300px; max-width:90%;
}
#loginBox input{
  padding:12px 15px; border-radius:15px; border:none; outline:none;
  font-size:1em; background:rgba(255,255,255,0.2); color:white;
}
#loginBox button{
  padding:12px; border:none; border-radius:15px;
  background:#ff99c7; color:white; font-weight:bold; cursor:pointer; transition:0.3s;
}
#loginBox button:hover{ background:#ffb3d1; }
.show-pass{
  position:relative; color:#fff; font-size:0.9em; cursor:pointer; text-align:right; margin-top:-15px;
}
#loginError{color:#ffb3b3; font-size:0.9em; text-align:center; display:none;}

/* Tombol Kembali */
.back-btn{
  position:fixed; top:70px; left:20px; z-index:100;
  padding:10px 15px; border-radius:10px; border:none;
  background:rgba(255,255,255,0.2); backdrop-filter:blur(5px);
  color:white; font-weight:bold; cursor:pointer; transition:0.3s;
}
.back-btn:hover{ background:rgba(255,255,255,0.4); }

/* Tombol Folder */
.folder-btn:hover{ background:#ffb3d1 !important; transform:scale(1.05); }

/* Tombol Musik */
#musicToggle {
    position: fixed; top: 20px; right: 20px; z-index: 1000;
    padding: 10px; border-radius: 50%; border: none;
    background: rgba(255, 255, 255, 0.3); color: white;
    font-size: 1.2em; cursor: pointer; transition: 0.3s;
}
#musicToggle:hover { background: rgba(255, 255, 255, 0.5); }
#musicToggle.muted { opacity: 0.6; }

/* Indikator Foto */
.photo-counter {
    color: white; font-size: 1.2em; margin-bottom: 10px;
    text-shadow: 0 0 5px rgba(0,0,0,0.5);
}


/* Responsive */
@media(max-width:600px){
  .romantic-text{ font-size:1.5em; }
  .album-container{ height:450px; }
  .nav-btn{ width:40px; height:40px; font-size:1.5em; }
  .back-btn{ top:10px; left:10px; padding:8px 12px; font-size:0.9em; }
  #musicToggle { top: 10px; right: 10px; padding: 8px; font-size: 1em; }
}
</style>
</head>
<body>

<div id="preloader">Loading... ğŸ’–</div>

<div id="particleContainer"></div>

<nav class="navbar">
  <div class="menu-toggle" id="menuToggle"><span></span><span></span><span></span></div>
  <ul id="navMenu">
    <li><button id="homeBtn">Home</button></li>
    <li><button id="aboutBtn">About</button></li>
    <li><button id="contactBtn">Contact</button></li>
  </ul>
</nav>

<button id="musicToggle">ğŸ¶</button> <div class="page active-page" id="loginPage">
  <div id="loginTitle">ğ—Ÿğ—¢ğ—šğ—œğ—¡ ğ—¨ğ—¡ğ—§ğ—¨ğ— ğ— ğ—˜ğ—Ÿğ—œğ—›ğ—”ğ—§ ğ—”ğ—Ÿğ—•ğ—¨ğ— </div>
  <div id="loginBox">
    <input type="text" id="username" placeholder="Username">
    <input type="password" id="password" placeholder="Password">
    <div class="show-pass" id="togglePass">Show Password</div>
    <button id="loginBtn">Login</button>
    <div id="loginError">Username atau Password salah!</div>
  </div>
</div>

<div class="page" id="homePage">
  <div class="album-wrapper" id="folderSelectWrapper" style="display:flex; flex-direction:column; gap:20px; max-width:400px; padding:20px; opacity:1;">-text" style="margin-bottom:0;">ğ—£ğ—œğ—Ÿğ—œğ—› ğ—™ğ—¢ğ—Ÿğ——ğ—˜ğ—¥ ğ—”ğ—Ÿğ—•ğ—¨ğ— </div>
    <button id="mainAlbumBtn" class="folder-btn" style="padding:15px; border:none; border-radius:15px; background:#ff99c7; color:white; font-weight:bold; cursor:pointer; transition:0.3s;">
        ALBUM UTAMA ğŸ’–
    </button>
    <button id="folder1Btn" class="folder-btn" style="padding:15px; border:none; border-radius:15px; background:#ff99c7; color:white; font-weight:bold; cursor:pointer; transition:0.3s;">
        FOLDER 1 - PAP RANDOM
    </button>
    <button id="folder2Btn" class="folder-btn" style="padding:15px; border:none; border-radius:15px; background:#ff99c7; color:white; font-weight:bold; cursor:pointer; transition:0.3s;">
        FOLDER 2 - PAP RANDOM
    </button>
  </div>
  
  <div class="album-wrapper" id="albumWrapper" style="display:none;">
    <button class="back-btn" onclick="askBackToHome()">&#10094; KEMBALI KE HOME</button>
    <div class="romantic-text">ğ’ğ–ğˆğğ„ ğ”ğ—¡ğ—§ğ—¨ğ— ğ— ğ—˜ğ—Ÿğ—œğ—›ğ—”ğ—§ ğ…ğ—¢ğ—§ğ—¢ ğ’ğ„ğ‹ğ€ğ—¡ğ—ğ—¨ğ—§ğ—¡ğ—¬ğ€</div>
    <div class="photo-counter" id="mainPhotoCounter"></div> <div class="album-container" id="albumContainer"></div>
    <div class="photo-menu" id="photoMenu">
      <button id="shareBtn">Share</button>
      <button id="likeBtn">Like</button>
      <button id="downloadBtn">Download</button>
    </div>
    <button class="nav-btn prev-btn" id="prevBtn">&#10094;</button>
    <button class="nav-btn next-btn" id="nextBtn">&#10095;</button>
  </div>
</div>

<div class="page" id="folder1Page">
  <button class="back-btn" onclick="askBackToHome()">&#10094; KEMBALI KE HOME</button>
  <div class="album-wrapper folder-album-wrapper" data-folder="folder1">
    <div class="romantic-text">ğ…ğğ‹ğƒğ„ğ‘ ğŸ - ğ’ğ–ğˆğğ„ ğ”ğ—¡ğ—§ğ—¨ğ— ğ— ğ—˜ğ—Ÿğ—œğ—›ğ—”ğ—§ ğ…ğ—¢ğ—§ğ—¢</div>
    <div class="photo-counter" id="folder1PhotoCounter"></div> <div class="album-container folder-album-container"></div>
    <div class="photo-menu">
      <button onclick="sharePhoto('folder1')">Share</button>
      <button onclick="toggleLike('folder1')">Like <span class="heart-icon" id="folder1HeartIcon"></span></button>
      <button onclick="downloadPhoto('folder1')">Download</button>
    </div>
    <button class="nav-btn prev-btn" onclick="navPhoto('folder1', -1)">&#10094;</button>
    <button class="nav-btn next-btn" onclick="navPhoto('folder1', 1)">&#10095;</button>
  </div>
</div>

<div class="page" id="folder2Page">
  <button class="back-btn" onclick="askBackToHome()">&#10094; KEMBALI KE HOME</button>
  <div class="album-wrapper folder-album-wrapper" data-folder="folder2">
    <div class="romantic-text">ğ…ğğ‹ğƒğ„ğ‘ ğŸ - ğ’ğ–ğˆğğ„ ğ”ğ—¡ğ—§ğ—¨ğ— ğ— ğ—˜ğ—Ÿğ—œğ—›ğ—”ğ—§ ğ…ğ—¢ğ—§ğ—¢</div>
    <div class="photo-counter" id="folder2PhotoCounter"></div> <div class="album-container folder-album-container"></div>
    <div class="photo-menu">
      <button onclick="sharePhoto('folder2')">Share</button>
      <button onclick="toggleLike('folder2')">Like <span class="heart-icon" id="folder2HeartIcon"></span></button>
      <button onclick="downloadPhoto('folder2')">Download</button>
    </div>
    <button class="nav-btn prev-btn" onclick="navPhoto('folder2', -1)">&#10094;</button>
    <button class="nav-btn next-btn" onclick="navPhoto('folder2', 1)">&#10095;</button>
  </div>
</div>

<div class="page" id="aboutPage">
  <button class="back-btn" onclick="showPage('home')">&#10094; KEMBALI KE HOME</button>
  <div class="info-box">
    <h2>About</h2>
    <p>Developer: <strong>Nando Developers</strong></p>
    <p>ğ€ğ‹ğğ—¨ğ—  ğƒğˆğ—šğ—œğ—§ğ€ğ—Ÿ ğğ˜ ğ‚ğ„ğ‹ğ—­</p>
  </div>
</div>

<div class="page" id="contactPage">
  <button class="back-btn" onclick="showPage('home')">&#10094; KEMBALI KE HOME</button>
  <div class="info-box">
    <h2>Contact</h2>
    <p>Email: <a href="mailto:arcelbussines@email.com">arcelbussines@email.com</a></p>
    <p>Telegram: <a href="https://t.me/humans26" target="_blank">@humans26</a></p>
  </div>
</div>

<audio id="bgMusic" src="https://h.top4top.io/m_35969emdf0.m4a" loop></audio>

<script>
// --- GLOBAL SETUP ---
const navMenu = document.getElementById('navMenu');
const menuToggle = document.getElementById('menuToggle');
const music = document.getElementById('bgMusic');
const musicToggle = document.getElementById('musicToggle');
let autoSwipeInterval;

// Pages
const pages = { 
  login: document.getElementById('loginPage'), 
  home: document.getElementById('homePage'), 
  folder1: document.getElementById('folder1Page'),
  folder2: document.getElementById('folder2Page'),
  about: document.getElementById('aboutPage'), 
  contact: document.getElementById('contactPage') 
};

// Data Album (URL sudah diperbaiki)
const albumData = {
  main: {
    photos: [
      "https://images2.imgbox.com/07/6d/flAblCPU_o.jpg", "https://images2.imgbox.com/8a/48/5WnFlheI_o.jpg", "https://images2.imgbox.com/17/93/x3zJwzr8_o.jpg", "https://images2.imgbox.com/9f/c4/0HZK3fj6_o.jpg", "https://images2.imgbox.com/d4/f3/y30RHo1v_o.jpg", "https://images2.imgbox.com/d0/ef/utCLLETK_o.jpg", "https://images2.imgbox.com/6d/9d/TfuuSkGT_o.jpg", "https://images2.imgbox.com/9b/14/1Nh4stjQ_o.jpg", "https://images2.imgbox.com/05/cf/2lmZVoK0_o.jpg", "https://images2.imgbox.com/17/ad/VpSegle2_o.jpg", "https://images2.imgbox.com/bf/38/j28lslL7_o.jpg", "https://images2.imgbox.com/2d/5d/THVip0wB_o.jpg", "https://images2.imgbox.com/d1/42/8VgLCjZp_o.jpg", "https://images2.imgbox.com/15/a4/Aj6Q76RP_o.jpg", "https://images2.imgbox.com/31/7d/DaZ3wHmd_o.jpg", "https://images2.imgbox.com/ac/73/goBnuRIx_o.jpg", "https://images2.imgbox.com/aa/b9/HsnXJMTE_o.jpg", "https://images2.imgbox.com/9d/1e/44qSzju4_o.jpg", "https://images2.imgbox.com/94/ec/28ile6qy_o.jpg", "https://images2.imgbox.com/b7/2c/3EgN6c1L_o.jpg", "https://images2.imgbox.com/09/6a/BJdQjfwc_o.jpg", "https://images2.imgbox.com/7a/11/Example22_o.jpg"
    ],
    current: 0, liked: false, container: document.getElementById('albumContainer'), counter: document.getElementById('mainPhotoCounter')
  },
  folder1: {
    photos: [
      "https://images2.imgbox.com/Nl/T1/NlT17m3Q_o.jpg", "https://images2.imgbox.com/qP/6e/qnP6eqDM_o.jpg", "https://images2.imgbox.com/1B/yz/1Byz1nng_o.jpg", "https://images2.imgbox.com/ln/sY/lnsYm94x_o.jpg", "https://images2.imgbox.com/qO/CU/qoCU0CLO_o.jpg", "https://images2.imgbox.com/hD/dD/hDdDMDO2_o.jpg", "https://images2.imgbox.com/7Y/7H/7Y7Hxs2q_o.jpg", "https://images2.imgbox.com/h8/es/h8esqBbd_o.jpg", "https://images2.imgbox.com/FX/Fn/FXFnE2Jv_o.jpg", "https://images2.imgbox.com/Fu/QI/FuQI0GQf_o.jpg"
    ],
    current: 0, liked: false, container: null, counter: document.getElementById('folder1PhotoCounter'), heart: document.getElementById('folder1HeartIcon')
  },
  folder2: {
    photos: [
      "https://images2.imgbox.com/Ph/NF/PhNFaKki_o.jpg", "https://images2.imgbox.com/DZ/Wr/DZrWryLt_o.jpg", "https://images2.imgbox.com/RP/os/RPosm6vt_o.jpg", "https://images2.imgbox.com/fy/WE/fyWESKIk_o.jpg", "https://images2.imgbox.com/QV/Yq/QVYqyMnR_o.jpg", "https://images2.imgbox.com/ZX/RA/ZXRAxmm2_o.jpg"
    ],
    current: 0, liked: false, container: null, counter: document.getElementById('folder2PhotoCounter'), heart: document.getElementById('folder2HeartIcon')
  }
};

// --- PRELOADER & ONLOAD ---
window.addEventListener('load', () => {
    // Sembunyikan preloader setelah 1.5 detik
    setTimeout(() => {
        document.getElementById('preloader').classList.add('hidden');
    }, 1500);
});


// --- MUSIK ---
musicToggle.addEventListener('click', () => {
    if (music.paused) {
        music.play().catch(e => console.error("Auto-play blocked:", e));
        musicToggle.textContent = 'ğŸ¶';
        musicToggle.classList.remove('muted');
    } else {
        music.pause();
        musicToggle.textContent = 'ğŸ”‡';
        musicToggle.classList.add('muted');
    }
});
// Fallback untuk Play music on first click
document.body.addEventListener('click', () => { music.play().catch(() => {}); }, {once:true});

// --- LOGIN ---
const loginBtn = document.getElementById('loginBtn');
const loginError = document.getElementById('loginError');
const usernameInput = document.getElementById('username');
const passwordInput = document.getElementById('password');
const togglePass = document.getElementById('togglePass');
const albumWrapper = document.getElementById('albumWrapper'); 
const folderSelectWrapper = document.getElementById('folderSelectWrapper');

togglePass.addEventListener('click', ()=>{
  passwordInput.type = (passwordInput.type==='password')?'text':'password'; 
  togglePass.textContent = (passwordInput.type==='password')?'Show Password':'Hide Password'; 
});

loginBtn.addEventListener('click', ()=>{
  const user = usernameInput.value.trim();
  const pass = passwordInput.value.trim();
  if(user==='zaza' && pass==='zaza'){ 
    loginError.style.display='none';
    document.querySelector('.navbar').style.display='flex';
    // Menampilkan halaman Home (pemilihan folder)
    showPage('home');
    clearInterval(autoSwipeInterval); 
  } else {
    loginError.style.display='block';
  }
});

// --- NAVIGASI HALAMAN (Ditingkatkan dengan Transisi) ---
function showPage(page){
  for(const key in pages){ 
    const isTarget = (key === page || (page === 'mainAlbum' && key === 'home'));
    
    // Kelola kelas aktif untuk transisi slide
    if (isTarget) {
      pages[key].style.display = 'flex';
      setTimeout(() => {
          pages[key].classList.add('active-page');
      }, 10); // sedikit delay agar transisi berfungsi
    } else {
      pages[key].classList.remove('active-page');
      // Sembunyikan elemen setelah transisi selesai (sesuai durasi transisi 0.8s)
      setTimeout(() => {
          pages[key].style.display = 'none';
          // Atur kembali posisi untuk slide berikutnya
          if(key!=='login') pages[key].style.transform = 'translateX(100%)';
      }, 800); 
    }
  } 

  // Logika khusus Home (Folder Select vs Album Utama)
  if(page === 'home'){
    folderSelectWrapper.style.display = 'flex';
    albumWrapper.style.display = 'none';
    clearInterval(autoSwipeInterval);
  } else if (page === 'mainAlbum') {
    folderSelectWrapper.style.display = 'none';
    albumWrapper.style.display = 'block';
  }
  
  // Putar musik jika masuk ke halaman album/folder
  if(['mainAlbum','folder1','folder2'].includes(page)) {
      playMusicIfAlbum();
  } else {
      // Hentikan musik saat kembali ke login/about/contact/folder select
      music.pause();
  }
}

// Konfirmasi saat kembali ke Home/Login
function askBackToHome(){
    if(confirm("Yakin ingin kembali ke halaman utama (pemilihan folder)?")){
        showPage('home');
    }
}


// --- FUNGSI ALBUM & FOTO ---

// Fungsi untuk menampilkan foto spesifik
function showPhoto(folder, i){
  const data = albumData[folder];
  data.current = i;
  if (!data.container || data.photos.length === 0) return; 

  data.container.innerHTML='';
  const img=document.createElement('img');
  img.src=data.photos[i]; img.className='photo active';
  data.container.appendChild(img);
  
  // Update Counter Foto
  if (data.counter) {
      data.counter.textContent = `${i + 1} / ${data.photos.length}`;
  }
  
  // Update Like Button
  if (data.heart) {
      updateLikeButton(data.heart.parentNode, data.liked, data.heart);
  } else if (folder === 'main') {
      updateLikeButton(document.getElementById('likeBtn'), data.liked, document.getElementById('likeBtn').querySelector('.heart-icon'));
  }
}

// Fungsi untuk navigasi foto (prev/next)
function navPhoto(folder, direction){
  const data = albumData[folder];
  data.current = (data.current + direction + data.photos.length) % data.photos.length;
  showPhoto(folder, data.current);
  resetAutoSwipe(folder);
}

// Inisialisasi Album Utama
function initMainAlbum(){
  showPhoto('main', albumData.main.current);
  document.getElementById('prevBtn').onclick = () => navPhoto('main', -1);
  document.getElementById('nextBtn').onclick = () => navPhoto('main', 1);
  setupSwipe(albumData.main.container, 'main');
  startAutoSwipe('main');
  albumWrapper.classList.add('show');
}

// Inisialisasi Album Folder
function initFolderAlbum(folder){
    const data = albumData[folder];
    data.container = document.querySelector(`#${folder}Page .folder-album-container`);
    if (data.photos.length > 0) {
        showPhoto(folder, data.current);
        setupSwipe(data.container, folder);
        startAutoSwipe(folder);
    }
}

// --- BUTTONS FOLDER & NAVIGASI ---
document.getElementById('mainAlbumBtn').onclick = ()=>{ showPage('mainAlbum'); initMainAlbum(); };
document.getElementById('folder1Btn').onclick = ()=>{ showPage('folder1'); initFolderAlbum('folder1'); };
document.getElementById('folder2Btn').onclick = ()=>{ showPage('folder2'); initFolderAlbum('folder2'); };

document.getElementById('homeBtn').onclick=()=>showPage('home');
document.getElementById('aboutBtn').onclick=()=>showPage('about');
document.getElementById('contactBtn').onclick=()=>showPage('contact');
menuToggle.addEventListener('click',()=>navMenu.classList.toggle('active'));

// --- SWIPE & AUTOSWIPE ---
function startAutoSwipe(folder){
  clearInterval(autoSwipeInterval); 
  autoSwipeInterval = setInterval(()=>{ navPhoto(folder, 1); }, 5000);
}

function resetAutoSwipe(folder){
  clearInterval(autoSwipeInterval);
  startAutoSwipe(folder);
}

function setupSwipe(element, folder){
  let startX=0;
  element.addEventListener('touchstart',e=>startX=e.touches[0].clientX);
  element.addEventListener('touchend',e=>{
    const endX = e.changedTouches[0].clientX;
    if(endX-startX>50) navPhoto(folder, -1);
    if(startX-endX>50) navPhoto(folder, 1);
  });
}

// --- PHOTO ACTIONS (LIKE, SHARE, DOWNLOAD) ---

function updateLikeButton(button, isLiked, heartIconElement){
    if(!heartIconElement){
        heartIconElement = document.createElement('span');
        heartIconElement.classList.add('heart-icon');
        button.appendChild(heartIconElement);
    }
    
    if(isLiked){
        heartIconElement.textContent = 'â¤ï¸';
        heartIconElement.classList.add('bounce');
        // Hapus class bounce setelah animasi
        setTimeout(() => heartIconElement.classList.remove('bounce'), 500);
    } else {
        heartIconElement.textContent = '';
        heartIconElement.classList.remove('bounce');
    }
}

function toggleLike(folder){
  const data = albumData[folder];
  data.liked = !data.liked;
  let heartIcon;
  if(folder === 'main'){
      heartIcon = document.getElementById('likeBtn').querySelector('.heart-icon');
      if(!heartIcon) {
          heartIcon = document.createElement('span');
          heartIcon.classList.add('heart-icon');
          document.getElementById('likeBtn').appendChild(heartIcon);
      }
      updateLikeButton(document.getElementById('likeBtn'), data.liked, heartIcon);
  } else {
      updateLikeButton(document.querySelector(`#${folder}Page .photo-menu button:nth-child(2)`), data.liked, data.heart);
  }
}

// Inisialisasi ikon hati di album utama
document.getElementById('likeBtn').innerHTML += '<span class="heart-icon"></span>';
document.getElementById('likeBtn').addEventListener('click', ()=>toggleLike('main'));


function sharePhoto(folder){
  const data = albumData[folder];
  const url = encodeURIComponent(data.photos[data.current]);
  const text = encodeURIComponent(`Lihat foto ini di ${folder==='main'?'Album Digital Khirza':'Folder Album'}!`);
  
  const shareOptions = `
    Pilih platform untuk membagikan foto:
    1. WhatsApp
    2. Twitter
    3. Facebook
    4. Telegram
  `;
  const choice = prompt(shareOptions,'1');
  if(!choice) return;

  switch(choice){
    case '1': window.open(`https://wa.me/?text=${text}%20${url}`,'_blank'); break;
    case '2': window.open(`https://twitter.com/intent/tweet?text=${text}&url=${url}`,'_blank'); break;
    case '3': window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`,'_blank'); break;
    case '4': window.open(`https://t.me/share/url?url=${url}&text=${text}`,'_blank'); break;
    default: alert('Pilihan tidak valid!'); break;
  }
}
document.getElementById('shareBtn').addEventListener('click', ()=>sharePhoto('main'));


function downloadPhoto(folder){
  const data = albumData[folder];
  const link = document.createElement('a');
  link.href = data.photos[data.current];
  link.download = `Foto-${folder}-${data.current+1}.jpg`;
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
}
document.getElementById('downloadBtn').addEventListener('click', ()=>downloadPhoto('main'));


// Musik album otomatis play ketika halaman album
function playMusicIfAlbum(){
  if(music.paused) music.play().catch(()=>{}); 
}

// --- PARTICLE (Tidak berubah) ---
const particleContainer = document.getElementById('particleContainer');
for(let i=0;i<200;i++){
  const p = document.createElement('div');
  p.classList.add('particle');
  const x = Math.random()*window.innerWidth - window.innerWidth/2;
  const y = -Math.random()*300 - 200;
  const size = Math.random()*12 + 6;
  const duration = Math.random()*5 + 5
  p.style.setProperty('--x', `${x}px`);
  p.style.setProperty('--y', `${y}px`);
  p.style.width = `${size}px`;
  p.style.height = `${size}px`;
  p.style.animationDuration = `${duration}s`;
  p.style.left = `${Math.random()*100}%`;
  p.style.top = `${Math.random()*100}%`;
  particleContainer.appendChild(p);
}
</script>
</body>
</html>
